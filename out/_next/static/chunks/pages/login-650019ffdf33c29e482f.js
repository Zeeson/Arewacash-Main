_N_E=(window.webpackJsonp_N_E=window.webpackJsonp_N_E||[]).push([[14],{pqMH:function(e,n,t){(window.__NEXT_P=window.__NEXT_P||[]).push(["/login",function(){return t("yfTL")}])},rePB:function(e,n,t){"use strict";function r(e,n,t){return n in e?Object.defineProperty(e,n,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[n]=t,e}t.d(n,"a",(function(){return r}))},xeAR:function(e,n,t){"use strict";t.d(n,"a",(function(){return i})),t.d(n,"b",(function(){return o}));var r=t("QYNt"),c=t("QqKt"),i=function(e){var n;return n="0"===e[0]?e.slice(1):e,"+234".concat(n)},o=function(e){var n={};return r.a.database().ref("userinfo").child(e.uid).on("value",(function(e){n=e.val(),c.a.userInfo=n,c.a.accountInfo=n})),n}},yfTL:function(e,n,t){"use strict";t.r(n);var r=t("rePB"),c=t("nKUr"),i=t("q1tI"),o=t("8Kt/"),a=t.n(o),s=t("CafY"),u=t("YFqc"),l=t.n(u),h=t("QYNt"),d=t("xeAR"),p=t("QqKt"),b=t("10Is"),f=t("nOHt");function j(e,n){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);n&&(r=r.filter((function(n){return Object.getOwnPropertyDescriptor(e,n).enumerable}))),t.push.apply(t,r)}return t}function O(e){for(var n=1;n<arguments.length;n++){var t=null!=arguments[n]?arguments[n]:{};n%2?j(Object(t),!0).forEach((function(n){Object(r.a)(e,n,t[n])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):j(Object(t)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))}))}return e}n.default=function(){var e=Object(f.useRouter)(),n=Object(b.b)(p.a),t=Object(i.useState)({phone:n.phone,password:""}),o=t[0],u=t[1],j=Object(i.useState)(n.showPass),w=(j[0],j[1],function(e){var n=e.target,t=n.name,c=n.value;"phone"===t?c.length<=11&&u(O(O({},o),{},Object(r.a)({},t,c))):u(O(O({},o),{},Object(r.a)({},t,c)))});return Object(i.useEffect)((function(){window.appVerifier=new h.a.auth.RecaptchaVerifier("recaptcha-container",{size:"invisible"})}),[]),Object(i.useEffect)((function(){h.a.auth().onAuthStateChanged((function(n){n&&(p.a.user=n,e.push("/dashboard"))}))}),[]),Object(c.jsxs)(s.a,{children:[Object(c.jsx)(a.a,{children:Object(c.jsx)("title",{children:"ArewaPrenuer"})}),Object(c.jsxs)("div",{className:"register",children:[Object(c.jsx)("div",{id:"recaptcha-container"}),Object(c.jsxs)("div",{className:"reg-form",children:[Object(c.jsx)("h1",{className:"heading",children:"Log in to continue"}),Object(c.jsx)("p",{className:"mt-1 text-primary",children:"To sign in, please type in the phone and you will receive an otp"}),Object(c.jsxs)("div",{className:"phone-input",children:[Object(c.jsx)("p",{children:"+234"}),Object(c.jsx)("input",{type:"number",placeholder:"Enter phone number",name:"phone",value:o.phone,onChange:w,autoComplete:"off"})]}),n.showPass&&Object(c.jsx)("div",{className:"phone-password",children:Object(c.jsx)("input",{type:"number",placeholder:"Enter OTP",name:"password",value:o.password,onChange:w,className:""!=o.password?"pass-size":null})}),Object(c.jsx)("div",{children:n.showPass?Object(c.jsx)("button",{id:"sign-in-btn",className:"btn btn-primary",onClick:function(){p.a.loading=!0;var n=o.password.toString();window.confirmationResult.confirm(n).then((function(n){console.log("successfully signed in",n.user);n.user;e.push("/dashboard"),p.a.loading=!1})).catch((function(e){console.error("Error while checking the verification code",e),window.alert("Error while checking the verification code:\n\n"+e.code+"\n\n"+e.message),p.a.loading=!1}))},disabled:""===o.phone||""===o.password,children:"Sign in"}):Object(c.jsx)("button",{id:"sign-in-btn",className:"btn btn-primary",onClick:function(){p.a.loading=!0;var e=window.appVerifier,n=Object(d.a)(o.phone);h.a.auth().signInWithPhoneNumber(n,e).then((function(e){console.log("Success"),p.a.showPass=!0,p.a.phone=o.phone,window.confirmationResult=e,p.a.loading=!1})).catch((function(e){console.log("Error:"+e.code),p.a.loading=!1}))},disabled:""===o.phone,children:"Verify Number"})}),Object(c.jsxs)("p",{className:"text-mini switch",children:["Don\u2019t have an account?"," ",Object(c.jsx)(l.a,{href:"/register",children:Object(c.jsx)("a",{children:"Sign up"})})]})]})]})]})}}},[["pqMH",1,2,4,5,0,3,6]]]);